(window.webpackJsonp=window.webpackJsonp||[]).push([[266],{1693:function(e,t,r){var content=r(2869);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(40).default)("5d1a1eb0",content,!0,{sourceMap:!1})},2498:function(e,t,r){var content=r(3749);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(40).default)("1ae9c3f8",content,!0,{sourceMap:!1})},2868:function(e,t,r){"use strict";var n=r(1693),o=r.n(n);r.d(t,"default",(function(){return o.a}))},2869:function(e,t,r){var n=r(39)(!1);n.push([e.i,".inputTags_dBfMU{padding:0;cursor:text;position:relative;overflow:auto}.inputTags_dBfMU ul{margin:0;padding:4px}.inputTags_dBfMU ul li{display:inline-block;margin:.125rem}.inputTags_dBfMU ul li:not(.addNew_rBxHf){padding:0 .25rem;background-color:#E0F2F3;color:#00565B;border-radius:4px;cursor:move}.inputTags_dBfMU ul li:not(.addNew_rBxHf) svg{vertical-align:middle}.inputTags_dBfMU ul li:not(.addNew_rBxHf) svg [fill-rule=nonzero]{fill:#00686E}.inputTags_dBfMU ul li.addNew_rBxHf input{width:100%;border:0;padding:5px 7px;box-shadow:none;outline:0;font-size:.875rem}\n",""]),n.locals={inputTags:"inputTags_dBfMU",addNew:"addNew_rBxHf"},e.exports=n},2873:function(e,t,r){"use strict";r(214);var n=r(935),o=r(2938),l=r.n(o),d=(r(27),r(103),r(42),r(54),r(70),r(2939)),c=r.n(d),m=(r(2940),r(2941),r(2269),r(2942)),f=r.n(m),v={TITLE:{required:!0,max:255},DESCRIPTION:{min:15,max:65535},DIMENSIONS:{WIDTH:2500,HEIGHT:2500},PRICE_ICON:{required:!0,min_value:0,max_value:5},PRICE_IMAGE:{required:!0,min_value:0,max_value:100},TAGS_ICON:{required:!0,inCount:[1,10]},TAGS_IMAGE:{required:!0,inCount:[4,50]},TAGGING:{SPLITTER:/[,;_.]+/,FILTER:/[^a-zA-Z0-9- ]?(-$)?/g,STOP:["icon","icons"]}},h={components:{UilTimes:n.a,Draggable:l.a},props:{height:{type:Number,default:126},value:{type:Array,default:()=>[]},state:{type:String,default:null}},data:()=>({newTag:null,newTagBoxWidth:80}),computed:{innerValue:{get(){return this.value},set(e){this.$emit("input",e)}}},watch:{newTag(e){var t=6.96*(e&&e.length||0)+30;this.newTagBoxWidth=Math.min(240,t)},innerValue(){this.$emit("update")}},methods:{focusTextBox(){this.$refs.txtAddNew.focus()},add(){if(this.newTag){var e=(e=>{var t=e.split(v.TAGGING.SPLITTER);return f()(c()(t.map((e=>e.replace(v.TAGGING.FILTER,"").trim()))))})(this.innerValue.join(",")+","+this.newTag.toLocaleLowerCase());this.innerValue=e,this.newTag=null}},remove(e){this.innerValue.splice(e,1)},onBackspace(){this.newTag&&0!==this.newTag.length||this.remove(this.innerValue.length-1)}}},y=r(2868),_=r(9);var component=Object(_.a)(h,(function(){var e=this,t=e._self._c;return t("div",{class:["form-control",e.$style.inputTags,e.state?"is-".concat(e.state):""],on:{click:e.focusTextBox}},[t("div",[t("div",[t("draggable",{staticClass:"list-unstyled",style:{height:e.height+"px"},attrs:{tag:"ul"},model:{value:e.innerValue,callback:function(t){e.innerValue=t},expression:"innerValue"}},[e._l(e.innerValue,(function(r,n){return t("li",{key:n,staticClass:"font-size-sm"},[e._v("\n          "+e._s(r)+"\n          "),t("a",{staticClass:"text-dark",attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.remove(n)}}},[t("uil-times",{attrs:{size:"16"}})],1)])})),e._v(" "),t("li",{class:e.$style.addNew,attrs:{slot:"footer"},slot:"footer"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.newTag,expression:"newTag",modifiers:{trim:!0}}],ref:"txtAddNew",style:{width:e.newTagBoxWidth+"px"},attrs:{type:"text",name:""},domProps:{value:e.newTag},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add.apply(null,arguments)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.add.apply(null,arguments))},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.onBackspace.apply(null,arguments)}],blur:[e.add,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(e.newTag=t.target.value.trim())}}})])],2)],1)])])}),[],!1,(function(e){this.$style=y.default.locals||y.default}),null,null);t.a=component.exports},3748:function(e,t,r){"use strict";var n=r(2498),o=r.n(n);r.d(t,"default",(function(){return o.a}))},3749:function(e,t,r){var n=r(39)(!1);n.push([e.i,".modal_Iy\\+3E .modal-dialog{max-width:500px !important}.modal_Iy\\+3E .modal-content{border-radius:12px;overflow:hidden}.modal_Iy\\+3E .modal-header{background-color:white;height:10px;text-align:center;padding:2rem;justify-content:center}.modal_Iy\\+3E .modal-body{padding:0}.modal_Iy\\+3E .footer_Rgkrw{background-color:white}\n",""]),n.locals={modal:"modal_Iy+3E",footer:"footer_Rgkrw"},e.exports=n},4001:function(e,t,r){"use strict";r.r(t);r(945);var n=r(7),o=r(3871),l=r(1715),d=r(1123),c=r(1190),m=r(969),f=r(993),v=r(24),h=r(970),y=r(2873);Object(m.c)("required",f.e);var _={components:{BModal:o.a,BFormTextarea:l.a,InputTags:y.a,BFormInput:d.a,BFormGroup:c.a},mixins:[h.a],props:{item:{type:Object,default:()=>{}},itemIds:{type:Array,default:()=>[]}},data:()=>({form:{name:null,description:null,canonical_url:null,priority:0,tags:[],item_ids:[]}}),methods:{onShown(){this.form.name=this.item.name,this.form.description=this.item.description,this.form.canonical_url=this.item.canonical_url,this.form.priority=this.item.priority,this.form.tags=this.item.tags.map((e=>e.name)),this.form.item_ids=this.itemIds},onSubmit(){var e=this;return Object(n.a)((function*(){try{if(yield e.validate()){var t=Object(v.b)("/aapi/items/{id}",{id:e.item.id});e.isLoading=!0,yield e.$axios.patch(t,e.form),window.location.reload()}}catch(t){e.onError(t)}finally{e.isLoading=!1}}))()}}},x=r(3748),T=r(9);var component=Object(T.a)(_,(function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{id:"modalItemEdit","modal-class":[e.$style.modal,"scale"],visible:!0,centered:"","hide-footer":"","no-fade":"",lazy:""},on:{shown:e.onShown,hide:function(t){return e.$emit("close")}}},[t("template",{slot:"modal-header"},[t("h3",{staticClass:"d-inline-block mb-0"},[e._v("Edit Item")])]),e._v(" "),t("validation-observer",{ref:"observer"},[t("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("div",{staticClass:"pt-6 px-6"},[t("b-form-group",{attrs:{label:"Title"}},[t("validation-provider",{attrs:{vid:"name",name:"Title",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var{failed:n}=r;return[t("b-form-input",{attrs:{state:!n,type:"text",placeholder:"Enter Title"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})]}}])})],1),e._v(" "),t("b-form-group",{attrs:{label:"Description"}},[t("b-form-textarea",{attrs:{rows:2,"max-rows":5,name:"description",placeholder:"Enter description"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),t("b-form-group",{attrs:{label:"Canonical URL"}},[t("b-form-input",{attrs:{type:"text",name:"canonical_url",placeholder:"Enter Canonical URL"},model:{value:e.form.canonical_url,callback:function(t){e.$set(e.form,"canonical_url",t)},expression:"form.canonical_url"}})],1),e._v(" "),t("b-form-group",{attrs:{label:"Priority"}},[t("validation-provider",{attrs:{name:"priority",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var{failed:n}=r;return[t("b-form-input",{attrs:{state:!n,type:"text",placeholder:"Enter Priority"},model:{value:e.form.priority,callback:function(t){e.$set(e.form,"priority",t)},expression:"form.priority"}})]}}])})],1),e._v(" "),t("b-form-group",{attrs:{label:"Tags"}},[t("validation-provider",{attrs:{mode:"eager",name:"tags",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var{failed:n}=r;return[t("input-tags",{attrs:{height:135,state:n?"invalid":null},model:{value:e.form.tags,callback:function(t){e.$set(e.form,"tags",t)},expression:"form.tags"}})]}}])})],1),e._v(" "),"icon"===e.item.asset?t("b-form-group",{attrs:{label:"Available Styles"}},[t("input-tags",{attrs:{height:135,name:"item_ids"},model:{value:e.form.item_ids,callback:function(t){e.$set(e.form,"item_ids",t)},expression:"form.item_ids"}})],1):e._e()],1),e._v(" "),t("div",{class:["text-center my-6",e.$style.footer]},[t("button",{class:["btn","btn-primary",e.isLoading?"ajax-loading disabled":null],attrs:{type:"submit"}},[e._v("\n          Save\n        ")])])])])],2)}),[],!1,(function(e){this.$style=x.default.locals||x.default}),null,null);t.default=component.exports},970:function(e,t,r){"use strict";var n=r(7),o=r(299),l=r.n(o),d=r(969),c=r(1032);Object(d.d)({en:c}),t.a={components:{ValidationObserver:d.a,ValidationProvider:d.b},data:()=>({isLoading:!1}),methods:{validate(){var e=this;return Object(n.a)((function*(){if(!(yield e.$refs.observer.validate())){var title=l()(e.$refs.observer.errors,(e=>e.length))[0]||"Please check all fields";return e.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"}),!1}return!0}))()},onError(e){console.error(e);var title=null;e.response&&e.response.data?e.response.data.elements?(title=Object.values(e.response.data.elements)[0],this.$refs.observer&&this.$refs.observer.setErrors(e.response.data.elements)):e.response.data.message&&(title=e.response.data.message):title=e.message||"Oops, Something went wrong!",this.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"})}}}}}]);
//# sourceMappingURL=b37611d.modern.js.map